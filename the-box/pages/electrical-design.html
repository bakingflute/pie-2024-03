<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Electrical Design</title>
    <link rel="icon" type="image/png" href="../cube_cad.png" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* Custom transition for smooth scrolling */
      html {
        scroll-behavior: smooth;
      }
      .hamburger-menu {
        position: fixed;
        top: 1rem;
        right: 1rem;
        z-index: 50;
        cursor: pointer;
      }
      .menu-overlay {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.9);
        color: white;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
        z-index: 40;
      }
      .menu-overlay.active {
        opacity: 1;
        pointer-events: auto;
      }
      .menu-overlay a {
        text-decoration: none;
        color: white;
        font-size: 1.5rem;
        margin: 1rem 0;
        transition: color 0.3s ease;
      }
      .menu-overlay a:hover {
        color: gray;
      }
      .image-container {
        position: relative;
        width: 100%;
        max-width: 800px; /* Limit the image size */
        margin: 0 auto; /* Center the image */
      }

      .image-container img {
        width: 100%;
        height: auto;
        display: block;
      }

      .point {
        position: absolute;
        width: 10px;
        height: 10px;
        background-color: red;
        border-radius: 50%;
        cursor: pointer;
        transform: translate(-50%, -50%);
      }

      .popup {
        position: absolute;
        display: none;
        background-color: #fff;
        border: 1px solid #ccc;
        padding: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }
      .popup::after {
        content: "";
        position: absolute;
        top: 100%;
        left: 50%;
        margin-left: -5px;
        border-width: 5px;
        border-style: solid;
        border-color: #fff transparent transparent transparent;
      }
    </style>
  </head>
  <body class="font-sans">
    <a href="../index.html" class="absolute top-4 left-4 z-50">
      <p class="text-white text-lg md:text-2xl mt-4">The Cube</p>
      <!-- <img
        src="images/home.jpg"
        alt="Home"
        class="w-20 h-20 hover:opacity-75 transition-opacity"
      /> -->
    </a>

    <!-- Hamburger Menu -->
    <div id="hamburger" class="hamburger-menu absolute top-4">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-8 w-8 text-white"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
        stroke-width="2"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M4 6h16M4 12h16m-7 6h7"
        />
      </svg>
    </div>

    <!-- Menu Overlay -->
    <div id="menu" class="menu-overlay">
      <a href="../index.html">Home</a>
      <a href="system-overview.html">System Overview</a>
      <a href="our-journey.html">Our Journey</a>
      <a href="bill-of-materials.html">Bill of Materials</a>
      <a href="gallery.html">Gallery</a>
      <a href="mechanical-design.html">Mechanical Design</a>
      <a href="firmware-design.html">Firmware Design</a>
      <a href="electrical-design.html">Electrical Design</a>
    </div>

    <!-- Header Section with Background Image -->
    <div
      class="relative h-96 bg-cover bg-center"
      style="background-image: url('../images/cube/cube_02.jpeg')"
    >
      <div
        class="absolute inset-0 bg-black bg-opacity-50 flex flex-col items-center justify-center text-center"
      >
        <h1 class="text-white text-4xl font-bold">Electrical Design</h1>
      </div>
    </div>

    <!-- Content Section -->
    <div class="py-12 bg-gray-100">
      <div class="container mx-auto px-6 text-center">
        <p class="text-lg">
          Our electrical system consisted of a 12V Nidec brushless servo motor
          driven by a PWM signal generated by an Arduino Nano. The Nidec motors
          had a built-in drive, so no external motor drive circuit such as an
          electronic speed controller (ESC) was required which simplified our
          design. All necessary connections were made on a perforated board
          (perf board), which also supported the Arduino Nano. To obtain
          positional data of the cube, we used an MPU9250 inertial measurement
          unit (IMU), providing both accelerometer and gyroscope readings. The
          IMU was connected to the Arduino Nano through the same perf board.
        </p>
        <p class="my-4"></p>
        <!-- Spacer -->
        <p class="text-lg">
          For power, we employed a 2200 mAh, 12V LiPo battery. This battery was
          linked to the Arduino Nano via the perf board and a switch for
          controlled activation/deactivation. Since the Nano has an onboard
          voltage regulator, even though we were supplying 12V, the regulator
          steps it down to a safe operating voltage of 5V. This allows the
          microcontroller on the Nano and the IMU to function without being
          damaged by the higher input voltage. An XT60 connector facilitated the
          connection of the battery to the system’s power input.
        </p>
        <p class="my-4"></p>
        
        <p>Click on the red dots or read below to understand each part</p>

        <!-- Image with Caption -->
        <figure class="mt-8">
          <div class="image-container">
            <img
              src="../images/electrical_schematic.png"
              alt="Interactive Map"
              style="width: 100%; max-width: 800px; height: auto"
            />
            <div
              class="point"
              style="top: 87%; left: 45%"
              data-info="2200 mAh, 12V LiPo battery: A rechargeable battery providing a stable 12V supply and sufficient capacity to power the motor, control electronics, and sensors."
            ></div>
            <div
              class="point"
              style="top: 78%; left: 13%"
              data-info="Switch: A manual power control component integrated into the circuit to enable or disable the entire system’s power from the battery."
            ></div>
            <div
              class="point"
              style="top: 40%; left: 5%"
              data-info="12V Nidec brushless servo motor: A high-performance motor capable of precise speed and position control when driven by a pulse-width modulated (PWM) signal. It connects to our flywheel via the motor shaft to generate rotational energy that allows our cube to balance."
            ></div>
            <div
              class="point"
              style="top: 40%; left: 30%"
              data-info="Arduino Nano: Microcontroller used for generating PWM signals for the servo motor and processing sensor data from the IMU."
            ></div>
            <div
              class="point"
              style="top: 41%; left: 78%"
              data-info="MPU9250 (IMU): An inertial measurement unit that combines a 3-axis accelerometer, 3-axis gyroscope, and a 3-axis magnetometer, providing real-time orientation, movement, position, and magnetic field data for enhanced system analysis and control feedback."
            ></div>
            <div
              class="point"
              style="top: 87%; left: 24%"
              data-info="XT60 Connector: High-current DC connector used to link the LiPo battery’s output to the system, ensuring a secure power connection."
            ></div>
            <div class="popup" id="popup"></div>
          </div>
          <figcaption class="mt-4 text-sm text-gray-700">
            Figure 1: Electrical schematic showing the connections between
            components.
          </figcaption>
         
        </figure>
        
        <p class="mb-4"></p>
        <div class="overflow-x-auto">
          <table class="table-auto border-collapse border border-gray-300 w-full text-left text-gray-700">
            <thead>
              <tr class="bg-gray-200">
                <th class="border border-gray-300 px-4 py-2">Part</th>
                <th class="border border-gray-300 px-4 py-2">Description</th>
                <th class="border border-gray-300 px-4 py-2">Image</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="border border-gray-300 px-4 py-2 font-bold">12V Nidec Brushless Servo Motor</td>
                <td class="border border-gray-300 px-4 py-2">A high-performance motor capable of precise speed and position control when driven by a pulse-width modulated (PWM) signal. It connects to our flywheel via the motor shaft to generate rotational energy that allows our cube to balance.</td>
                <td class="border border-gray-300 px-4 py-2">
                  <img src="../images/electronics/nidec_motor.jpg" alt="12V Nidec Motor" class="w-20 h-auto" />
                </td>
              </tr>
              <tr>
                <td class="border border-gray-300 px-4 py-2 font-bold">Arduino Nano</td>
                <td class="border border-gray-300 px-4 py-2">Microcontroller used for generating PWM signals for the servo motor and processing sensor data from the IMU.</td>
                <td class="border border-gray-300 px-4 py-2">
                  <img src="../images/electronics/arduino_nano.jpg" alt="Arduino Nano" class="w-20 h-auto" />
                </td>
              </tr>
              <tr>
                <td class="border border-gray-300 px-4 py-2 font-bold">Perforated Board</td>
                <td class="border border-gray-300 px-4 py-2">A prototyping board with pre-drilled holes and copper pads that was used for securely mounting and interconnecting the Arduino Nano, motor connections, and IMU through electrical soldering.</td>
                <td class="border border-gray-300 px-4 py-2">
                  <img src="../images/electronics/perforated_board.webp" alt="Perforated Board" class="w-20 h-auto" />
                </td>
              </tr>
              <tr>
                <td class="border border-gray-300 px-4 py-2 font-bold">XT60 Connector</td>
                <td class="border border-gray-300 px-4 py-2">High-current DC connector used to link the LiPo battery’s output to the system, ensuring a secure power connection.</td>
                <td class="border border-gray-300 px-4 py-2">
                  <img src="../images/electronics/xt60_connector.jpg" alt="XT60 Connector" class="w-20 h-auto" />
                </td>
              </tr>
              <tr>
                <td class="border border-gray-300 px-4 py-2 font-bold">2200 mAh, 12V LiPo Battery</td>
                <td class="border border-gray-300 px-4 py-2">A rechargeable battery providing a stable 12V supply and sufficient capacity to power the motor, control electronics, and sensors.</td>
                <td class="border border-gray-300 px-4 py-2">
                  <img src="../images/electronics/lipo_battery.jpg" alt="LiPo Battery" class="w-20 h-auto" />
                </td>
              </tr>
              <tr>
                <td class="border border-gray-300 px-4 py-2 font-bold">Switch</td>
                <td class="border border-gray-300 px-4 py-2">A manual power control component integrated into the circuit to enable or disable the entire system’s power from the battery.</td>
                <td class="border border-gray-300 px-4 py-2">
                  <img src="../images/electronics/switch.png" alt="Switch" class="w-20 h-auto" />
                </td>
              </tr>
              <tr>
                <td class="border border-gray-300 px-4 py-2 font-bold">MPU9250 (IMU)</td>
                <td class="border border-gray-300 px-4 py-2">An inertial measurement unit that combines a 3-axis accelerometer, 3-axis gyroscope, and a 3-axis magnetometer, providing real-time orientation, movement, position, and magnetic field data for enhanced system analysis and control feedback.</td>
                <td class="border border-gray-300 px-4 py-2">
                  <img src="../images/electronics/mpu_9250.jpg" alt="MPU9250 IMU" class="w-20 h-auto" />
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        
        <!-- Spacer -->
      </div>
    </div>

    <div
    id="modal"
    class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden"
  >
    <div
      class="bg-white rounded-lg p-6 max-w-md w-full shadow-lg text-center"
    >
      <p id="modal-text" class="text-gray-800 text-lg"></p>
      <button
        id="close-button"
        class="mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 focus:outline-none"
      >
        Close
      </button>
    </div>
  </div>
  <footer class="bg-gray-800 text-white py-6">
    <div class="container mx-auto px-6">
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Links Section -->
        <div>
          <h3 class="text-lg font-bold mb-4">Quick Links</h3>
          <div class="grid grid-cols-2 gap-4">
            <ul class="space-y-2">
              <li><a href="index.html" class="hover:underline">Home</a></li>
              <li>
                <a href="system-overview.html" class="hover:underline"
                  >System Overview</a
                >
              </li>
              <li>
                <a href="our-journey.html" class="hover:underline"
                  >Our Journey</a
                >
              </li>
              <li>
                <a href="bill-of-materials.html" class="hover:underline"
                  >Bill of Materials</a
                >
              </li>
            </ul>
            <ul class="space-y-2">
              <li>
                <a href="gallery.html" class="hover:underline">Gallery</a>
              </li>
              <li>
                <a href="mechanical-design.html" class="hover:underline"
                  >Mechanical Design</a
                >
              </li>
              <li>
                <a href="firmware-design.html" class="hover:underline"
                  >Firmware Design</a
                >
              </li>
              <li>
                <a href="electrical-design.html" class="hover:underline"
                  >Electrical Design</a
                >
              </li>
            </ul>
          </div>
        </div>
        <!-- About Section -->
        <div>
          <h3 class="text-lg font-bold mb-4">About</h3>
          <p class="text-sm">
            The Cube project showcases our efforts to create a self-balancing
            cube using mechanical, electrical, and software integration. Learn
            more by exploring the pages above.
          </p>
        </div>
        <!-- Acknowledgments Section -->
        <div>
          <h3 class="text-lg font-bold mb-4">Acknowledgments</h3>
          <p class="text-sm">
            Special thanks to our PIE instructors.
          </p>
        </div>
      </div>
      <!-- Footer Bottom -->
      <div class="mt-6 border-t border-gray-700 pt-4 text-center">
        <p class="text-sm">
          &copy; 2024 The Cube Project. Licensed under the
          <a href="https://opensource.org/licenses/MIT" class="hover:underline text-blue-400" target="_blank">MIT License</a>.
        </p>
      </div>
    </div>
  </footer>
  
  <script>
    const points = document.querySelectorAll(".point");
    const modal = document.getElementById("modal");
    const modalText = document.getElementById("modal-text");
    const closeButton = document.getElementById("close-button");

    points.forEach((point) => {
      point.addEventListener("click", () => {
        const info = point.getAttribute("data-info");
        modalText.textContent = info;
        modal.classList.remove("hidden");
      });
    });

    closeButton.addEventListener("click", () => {
      modal.classList.add("hidden");
    });

    // Close modal when clicking outside
    window.addEventListener("click", (e) => {
      if (e.target === modal) {
        modal.classList.add("hidden");
      }
    });
      const hamburger = document.getElementById("hamburger");
      const menu = document.getElementById("menu");

      // Toggle the menu when the hamburger icon is clicked
      hamburger.addEventListener("click", () => {
        menu.classList.toggle("active");
      });

      // Close the menu when a link is clicked
      menu.addEventListener("click", (event) => {
        if (event.target.tagName === "A") {
          menu.classList.remove("active");
        }
      });
      const image = document.querySelector(".image-container img");
      const container = document.querySelector(".image-container");

      const dotPositions = [
        { top: 87, left: 45 },
        { top: 78, left: 13 },
        { top: 40, left: 5 }, // Original percentage positions
        { top: 40, left: 30 },
        { top: 41, left: 78 },
        { top: 87, left: 24 },
        { top: 78, left: 13 },
      ];

      // Function to update dot positions
      function updateDotPositions() {
        const containerRect = container.getBoundingClientRect();

        points.forEach((point, index) => {
          const { top, left } = dotPositions[index];
          point.style.top = `${(top / 100) * containerRect.height}px`;
          point.style.left = `${(left / 100) * containerRect.width}px`;
        });
      }

      // Update positions on load and resize
      window.addEventListener("resize", updateDotPositions);
      window.addEventListener("load", updateDotPositions);

      // Hide popup when clicking outside
      document.addEventListener("click", (e) => {
        console.log(e.pageX);
        console.log(e.pageY);

        if (!e.target.classList.contains("point")) {
          popup.style.display = "none";
        }
      });
    </script>
  </body>
</html>
